Для тестирования в Symfony используется фреймворка PHPUnit.

Если не установлен, то можно его добавить через composer:
```temrinal
composer require --dev symfony/test-pack
```

После установки фреймворка нужно попробовать его запустить:
```terminal
php bin/phpunit
```

Данная команда запускает тесты приложения. Каждый тест - класс PHP, который заканчивается на постфикс `test`, как `UserAuthTest` и которые находятсв в каталоге /test приложения.

Настраивается тестирование через файл `phpunit.xml.dist` в корне приложения.

<!> Symfony Flex автоматически создаёт `phpunit.xml.dist` и `tests/bootstrap.php`. Если не создал, то можно запустить команду:
```terminal
composer recipes:install phpunit/phpunit --force -v
```

----
### Виды тестов
В Symfony существуют следующие зафиксированные виды тестов:
- **Юнит тесты** - гарантирует что отдельные еденицы кода (например, отдельный класс) ведут себя как задумано.
- **Интеграционные тесты** - тестируют комбинацию классов и обычно взаимодействуют с контейнером сервисов Symfony.
- **Эпликейшн тесты** -тест, который проверяет поведение приложения целиком. Делает HTTP-запрос, как реальный, так и смоделированный.

----
#### Юнит тесты
Тест гарантирует, что отдельные единицы исходного кода (класс/метод) соответствуют дизайну и ведут себя так как задумано.

По соглашению `/tests` каталог должен копировать каталог вашего приложения для модульных тестов. Так что если тестируешь класс `src/Form`, то помести тест в `tests/Form`.
Автозагрузка автоматически включается через `vendor/auotload.php`.

Можно запустить конкретный тест по команде:
```terminal
php bin/phpunit tests/Form
```

Или на конкретный класс:
```terminal
php bin/phpunit tests/Form/FromSubmitTest.php
```

<!> В больших тестовых набор может иметь смысла создавать подкаталоги для каждого типа тестов:
- `tests/Unit/`
- `tests/Integration`
- `tests/Application`

----
#### Интеграционные тесты
По сравнению с юнти-тестами будет тестировать какую-то часть приложения. Интеграционные тесты могут использовать ядро Symfony для извлечения сервиса из контейнера DI.

В Symfony есть KernelTestCase, который позволяет создавать и загружать ядро в тестах:
```php
class NewsLetterGeneratorTest extends KernelTestCase
{
	public function testSomething():void
	{
		self::bootKernel();

		//...
	}
}
```

Также KernelTestCase гарантируется перезагрузка ядра для каждого теста. Это гарантирует выполнение тестов <u>независимо друг от друга</u>.