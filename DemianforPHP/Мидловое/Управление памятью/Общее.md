В PHP управление памятью и сборка мусора в основном происходит автоматически.

PHP использует счётчик ссылок(refcount) и циклический сборщик мусора (cycle collector).

- Счётчик ссылок - освобождает память, как только переменная больше не используется.
- Циклический сборщик - удаляет объекты, ссылающиеся друг на друга.

#### Когда нужно заботиться о памяти в Symfony?

1. Долгие CLI-скрипты (импорт, обработка очередей)
	- Если скрипт работает часами, накапливая объекты
	- Периодически требуется вызывать `gc_collect-cycles()`
2. Обработка больших данных (например CSV/Excel файлы)
	- Загрузка всего файла в память (file_get_contents) может вызвать `Allowed Memory Size Exhausted`.
	- Использовать потоковое чтение типа yield или SplFileObject
3. Утечки памяти в Doctrine
	- При работе с большими наборами сущностей Doctrine может кешировать их в UnitOfWork
	- Решение: `$entityManager->clear(); gc_collect_cycles();`
4. Сервисы с большими зависимостями
	- Если сервис хранит тяжёлые объекты, они будут жить пока живёт сервис
	- Решение: использовать ленивую загрузку в конфигурации сервиса