### Config и dotenv:
Здесь добавляются переменные окружения и настраивается общая работа FUS:
- APP_VERSION
- ENVIRONMENT_NAME
- JWT_PRIVATE_KEY
- JWT_PUBLIC_KEY
- S3_ENDPOINT
- S3_REGION
- S3_ACCESS_KEY
- S3_SECRET_KEY
- S3_DEFAULT_BUCKET

Эти переменные окружения будут далее использоваться в работе микрсоервиса.

### Server
Обладает основными типами и методами, которые используются в микросервисе, а именно:
- Получение и валидация JWT
- Генерация ответного JWT
- Проверка файла на наличие метаданных
А также ручкой, которая используются для загрузки файла `/upload/:jwt`
Ручка отправляет данные о файле в processor, который проверяет соответствие файла его constraints.

Получает данные от Processor, формирует ответ.

Отправляет ответ с данные от Processor + state.
### Processor
Получает в себя данные о пути к файлу, его оригинального имени, его веса.
Внутри проверяет соответствие данные о файле с его constraints.

Определяется MIME Type файла через класс FileMimeTypeDetector, куда отправляется ссылка на файл (filePath).

Остальные данные о файле берутся через FileMetaDataExtractor, куда отправляется ссылка на файл (filePath).

Далее проверяется соответствие метаданных файла с constraints. Если не сходится - отправляет API Problem о не соответствии.

Создаёт s3Client с настройками из config.

Загружает файла на s3 через s3Client.

Возвращает метаданные для генерации ответа.
### FileMimeTypeDetector
Получает в себя ссылку на файл (filePath).

По запросу по ссылке пытается получить краткие данные о файле и его MIME Type.

Из stdout берёт данные и записывает как mimeType.

Проверяет mimeType на наличие данных и прогоняет через regexp.

Если всё окей - отдаёт mimeType. Если где-то запнулся - отдаст API Problem.

### FileMetaDataExtractor
В конструктое принимает ссылку на файл ffprobePath.

В заисимости от MimeType объекта обладает разными методами для получения данных.

### S3CLient
Данный класс создаётся при помощи данных из config, где указываются настройки s3.

В классе также есть метод по загрузке файла uploadFile(), который получает в себя данные о файле. Создаёт slug, генерирует ключ файла.

Отправляет реквест по загрузке файла из filePath в бакет.

Возвращает s3 encoded URL: `s3://${bucket}/${objectKey}` и fileUrl - ссылка на хранилище.