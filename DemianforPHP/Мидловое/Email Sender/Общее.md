Микросервис, отвечающий за отправку email.

- Работает в виде демона, который постоянно прослушивает очередь на наличие новых сообщений
- После получения email сообщения, микросервис пытается его отправить, используя поддерживаемый Symfony способ отправки
- Содержит в себе обработчик ошибок, который необходимо настраивать чтобы не исчерпать лимит ошибок

#### Что лежит в секретках?
- `DOCKER_USERNAME` - имя пользователя Docker
- `DOCKER_PASSWORD` - пароль пользователя Docker
- `DOCKER_IMAGE` - имя образа в Docker (например email-sender)
- `YC_CONTAINER_REGISTRY_ID` - ID реестра Docker

#### Конфигурация
Приложение настраивается через переменные окружения. Доступные переменные лежат в файле `.env.test`:
- `APP_ENV` - в продакшене рекомендуется установить `prod`
- `APP_DEBUG` - в продакшене требуется установить `0`
- `SENTRY_DSN` - DSN Sentry для репорта о выпавших исключениях
- `MESSENGER_TRANSPORT_EMAIL_DSN` - DSN очереди сообщений в формате, описанном в документации Symfony
- `MAILER_DSN` - DSN сервиса отправки email в формате, описанном в документации Symfony
- `CONSUME_LINIT` - ограничение по количеству обработанных сообщений
- `MEMORY_LIMIT` - ограничение по количеств потребляемой памяти
- `TIME_LIMIT` - ограничение по времени работы

- Если микросервис достигнет лимита, он завершит работу и восстановление работоспособности восстанавливается вручную.
- Если микросервис крутится в Kubernetes, то можно установить `restartPolicy: Always` для автоматической перезагрузки.
- Логи пишутся в stdout

#### Формат сообщения
Микросервис выполняет роль консьюмера. Получает данные в формате JSON, необходимые для отправки сообщения и содержит следующие поля:
- `from` - Отправитель, объект с email и именем отправителя
- `to` - Массив объектов с адресами и именами, кому отправится письмо
- `subject` - строка. Тема email.
- `text` - строка. Текст email сообщения.
- `expiresAt` - срок годности сообщения. Указывается в формате Unix timestamp. Можно указать null, тогда у сообщения не будет срока годности. Если в микросервис попадёт email, которые привыесили срок давности, оно не будет отправлено и удалится из очереди. Такие сообщения полезны в кейсах с ограниченным сроком годности, например сообщения с кодом подтверждения.

Пример тела сообщения:
```json
"from": { "address": "arvenelf@bk.ru", "name": "Арвен, царица Эльфийская" },
"to": [
	{ "address": "aragorn@mail.ru", "name": "Арагорн, сын Араторна" },
	{ "address": "ghimli@gmail.ru", "name": "Гимли, сын Глоина" },
]
"subject": "Хоббиты в гнезде",
"text": "Внимание! Хоббиты в гнезде, повторяю, хоббиты в гнезде!",
"expiresAt": null,
```